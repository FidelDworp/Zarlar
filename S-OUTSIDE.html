<div style="text-align:center; margin-top:20px;">
  <div id="sun-container" style="display:inline-block; padding:20px; border-radius:10px; background-color:black;">
    <svg id="sun-svg" width="120" height="120">
      <!-- Zon cirkel -->
      <circle id="sun-circle" cx="60" cy="60" r="50" fill="black" stroke="yellow" stroke-width="4"/>
      <!-- Ogen -->
      <circle id="eye-left" cx="45" cy="50" r="5" fill="black"/>
      <circle id="eye-right" cx="75" cy="50" r="5" fill="black"/>
      <!-- Glimlach -->
      <path id="smile" d="M40 70 Q60 90 80 70" stroke="black" stroke-width="4" fill="transparent"/>
    </svg>
    <div id="lux-value" style="margin-top:10px; font-size:18px; font-weight:bold; color:black;">
      Sunlight = -- Lux
    </div>
  </div>
</div>

<script>
function updateSunlight(lux) {
    const sunCircle = document.getElementById('sun-circle');
    const luxDisplay = document.getElementById('lux-value');
    const sunContainer = document.getElementById('sun-container');

    // Zon kleur: 0 → zwart, 6000 → fel geel
    const maxLuxSun = 6000;
    const clampedLuxSun = Math.min(Math.max(lux, 0), maxLuxSun);
    const intensity = Math.round((clampedLuxSun / maxLuxSun) * 255);
    const fillColor = `rgb(${intensity}, ${intensity}, 0)`; 
    sunCircle.setAttribute('fill', fillColor);

    // Glow-effect
    sunCircle.setAttribute('filter', `drop-shadow(0 0 ${clampedLuxSun/200}px rgba(255,255,0,0.7))`);

    // Achtergrond van het vak: 0 lux = zwart, 2000 lux = hemelsblauw
    const maxLuxBg = 2000;
    const clampedLuxBg = Math.min(Math.max(lux, 0), maxLuxBg);
    // Interpolatie tussen zwart (0,0,0) en hemelsblauw (#87CEEB = 135,206,235)
    const r = Math.round((clampedLuxBg / maxLuxBg) * 135);
    const g = Math.round((clampedLuxBg / maxLuxBg) * 206);
    const b = Math.round((clampedLuxBg / maxLuxBg) * 235);
    sunContainer.style.backgroundColor = `rgb(${r},${g},${b})`;

    luxDisplay.textContent = `Sunlight = ${lux} Lux`;
}

// Polling voorbeeld: vervang window.Sunlight door jouw controller-variabele
setInterval(() => {
    const luxValueFromController = window.Sunlight || 0;
    updateSunlight(luxValueFromController);
}, 1000);
</script>
